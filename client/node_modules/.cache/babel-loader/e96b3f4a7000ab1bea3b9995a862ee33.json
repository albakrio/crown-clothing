{"ast":null,"code":"var _jsxFileName = \"/Users/goldozil/Desktop/portfolio/crown-clothing/client/src/components/stripe-button/StripeButton.js\";\nimport React from 'react';\nimport StripeCheckout from 'react-stripe-checkout';\nimport axios from \"axios\";\nimport './stripe-button.scss'; // Stripe integrates money in cents\n\nconst StripeButton = ({\n  price\n}) => {\n  const priceForStripe = price * 100;\n  const publishKey = 'pk_test_OXRvkptq5Bd29vqQFQO9zp9X00XXN0MfCS';\n\n  const onToken = token => {\n    console.log(token);\n    axios({\n      method: \"post\",\n      url: \"payment\",\n      data: {\n        amount: priceForStripe,\n        token\n      }\n    }).then(res => console.alert('successful payment')).catch(error => console.log('payment error:', JSON.parse(error)));\n    alert(\"There was an issue with the credit card you used\");\n  };\n\n  return /*#__PURE__*/React.createElement(StripeCheckout, {\n    label: \"Pay Now\",\n    name: \"CRWN Clothing Ltd \",\n    billingAddress: true,\n    shippingAddress: true,\n    image: \"https://sendeyo.com/up/d/f3eb2117da\",\n    description: `Your total is $${price}`,\n    amount: priceForStripe,\n    stripeKey: publishKey,\n    panelLabel: \"Pay Now\",\n    token: onToken,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 3\n    }\n  });\n};\n\nexport default StripeButton;","map":{"version":3,"sources":["/Users/goldozil/Desktop/portfolio/crown-clothing/client/src/components/stripe-button/StripeButton.js"],"names":["React","StripeCheckout","axios","StripeButton","price","priceForStripe","publishKey","onToken","token","console","log","method","url","data","amount","then","res","alert","catch","error","JSON","parse"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,cAAP,MAA2B,uBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,sBAAP,C,CAEA;;AACA,MAAMC,YAAY,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAe;AACnC,QAAMC,cAAc,GAAGD,KAAK,GAAG,GAA/B;AACA,QAAME,UAAU,GAAG,4CAAnB;;AAEA,QAAMC,OAAO,GAAIC,KAAD,IAAW;AAC1BC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAN,IAAAA,KAAK,CAAC;AACLS,MAAAA,MAAM,EAAC,MADF;AAELC,MAAAA,GAAG,EAAC,SAFC;AAGLC,MAAAA,IAAI,EAAC;AACJC,QAAAA,MAAM,EAACT,cADH;AAEJG,QAAAA;AAFI;AAHA,KAAD,CAAL,CAOGO,IAPH,CAOSC,GAAD,IAAOP,OAAO,CAACQ,KAAR,CAAc,oBAAd,CAPf,EAOoDC,KAPpD,CAO2DC,KAAD,IAASV,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BU,IAAI,CAACC,KAAL,CAAWF,KAAX,CAA9B,CAPnE;AAQAF,IAAAA,KAAK,CAAC,kDAAD,CAAL;AAIA,GAdD;;AAgBA,sBACC,oBAAC,cAAD;AACC,IAAA,KAAK,EAAC,SADP;AAEC,IAAA,IAAI,EAAC,oBAFN;AAGC,IAAA,cAAc,MAHf;AAIC,IAAA,eAAe,MAJhB;AAKC,IAAA,KAAK,EAAC,qCALP;AAMC,IAAA,WAAW,EAAG,kBAAiBb,KAAM,EANtC;AAOC,IAAA,MAAM,EAAEC,cAPT;AAQC,IAAA,SAAS,EAAEC,UARZ;AASC,IAAA,UAAU,EAAC,SATZ;AAUC,IAAA,KAAK,EAAEC,OAVR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD;AAcA,CAlCD;;AAoCA,eAAeJ,YAAf","sourcesContent":["import React from 'react';\nimport StripeCheckout from 'react-stripe-checkout';\nimport axios from \"axios\"\nimport './stripe-button.scss';\n\n// Stripe integrates money in cents\nconst StripeButton = ({ price }) => {\n\tconst priceForStripe = price * 100;\n\tconst publishKey = 'pk_test_OXRvkptq5Bd29vqQFQO9zp9X00XXN0MfCS';\n\n\tconst onToken = (token) => {\n\t\tconsole.log(token);\n\t\taxios({\n\t\t\tmethod:\"post\",\n\t\t\turl:\"payment\",\n\t\t\tdata:{\n\t\t\t\tamount:priceForStripe,\n\t\t\t\ttoken,\n\t\t\t}\n\t\t}).then((res)=>console.alert('successful payment')).catch((error)=>console.log('payment error:', JSON.parse(error)))\n\t\talert(\"There was an issue with the credit card you used\")\n\n\t\n\t\t\n\t};\n\n\treturn (\n\t\t<StripeCheckout\n\t\t\tlabel='Pay Now'\n\t\t\tname='CRWN Clothing Ltd '\n\t\t\tbillingAddress\n\t\t\tshippingAddress\n\t\t\timage='https://sendeyo.com/up/d/f3eb2117da'\n\t\t\tdescription={`Your total is $${price}`}\n\t\t\tamount={priceForStripe}\n\t\t\tstripeKey={publishKey}\n\t\t\tpanelLabel='Pay Now'\n\t\t\ttoken={onToken}\n\t\t/>\n\t);\n};\n\nexport default StripeButton;\n"]},"metadata":{},"sourceType":"module"}